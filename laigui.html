<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>laigui</title>
  </head>
  <body style="display: flex; justify-content: center">
    <style>
      #saving-money {
        margin: 10px;
        padding: 10px;
        width: 100%;
        border-radius: 20px;
        background: #fff;
        box-shadow: 0px 16px 24px 0px rgba(0, 0, 0, 0.06);
        font-family: Montserrat;
      }

      #saving-money .head-title {
        font-size: 32px;
        font-weight: 600;
        line-height: 44px;
        color: #344054;
        margin-bottom: 40px;
        font-family: Montserrat;
      }

      #saving-money .bold-title {
        color: #344054;
        font-family: Montserrat;
        font-size: 32px;
        font-style: normal;
        font-weight: 700;
        line-height: 44px; /* 137.5% */
        letter-spacing: -0.16px;
      }

      #saving-money .wrapper-inner {
        display: flex;
        gap: 15px;
      }

      #saving-money .left-block {
        display: flex;
        width: 35%;
        padding: 10px;
        flex-direction: column;
        align-items: flex-start;
        gap: 24px;
        align-self: stretch;
        border-radius: 16px;
        background: #f9fafb;
      }

      #saving-money .right-block {
        width: 65%;
        flex-shrink: 0;
        border-radius: 16px;
        background: #fffbf1;
        padding: 10px;
      }

      #saving-money .input-control {
        display: flex;
        flex-direction: column;
        width: 100%;
      }

      #saving-money .input-control input {
        display: flex;
        padding: 6px;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        gap: 10px;
        align-self: stretch;
        border-radius: 6px;
        border: #d0d5dd;
        background: #fff;
      }

      #saving-money .input-control .label {
        color: #344054;
        font-family: Montserrat;
        font-size: 16px;
        font-style: normal;
        font-weight: 600;
        line-height: 20px;
        margin-bottom: 5px;
      }

      #saving-money .green-button {
        display: flex;
        padding: 12px 24px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        align-self: stretch;
        border-radius: 8px;
        background: #00844a;
        box-shadow: 0px 8px 24px 0px rgba(16, 151, 91, 0.25);
        color: #fff;
        border: none;
        cursor: pointer;
        font-size: 16px;
        font-style: normal;
        font-weight: 600;
        line-height: 24px; /* 150% */
      }

      #saving-money .green-txt {
        color: #00844a;
        /* Heading 2/Semibold */
        font-family: Montserrat;
        font-size: 20px;
        font-style: normal;
        font-weight: 600;
        line-height: 28px; /* 140% */
      }

      #saving-money .m-b-10 {
        margin-bottom: 10px;
      }

      #saving-money .m-b-20 {
        margin-bottom: 20px;
      }

      #saving-money .content-block {
        display: flex;
        padding: 8px;
        gap: 4px;
        flex-wrap: wrap;
        border-radius: 10px;
        border: 1px solid #fce197;
        background: #fff8e5;

        margin-bottom: 5px;
        justify-content: space-between;
      }

      #saving-money .content-block .label {
        color: #344054;
        font-size: 18px;
        font-style: normal;
        font-weight: 500;
        line-height: 26px;
      }

      #saving-money .content-block .text {
        color: #344054;
        font-size: 18px;
        font-style: normal;
        font-weight: 700;
        line-height: 26px; /* 144.444% */
      }

      #saving-money .error-text {
        margin-top: 5px;
        font-size: 13px;
        color: red;
        font-style: italic;
      }

      #saving-money .button-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
      }

      #saving-money .d-none {
        display: none;
      }

      @media screen and (max-width: 768px) {
        #saving-money .wrapper-inner {
          flex-direction: column;
        }

        #saving-money {
          padding: 15px;
          margin: 5px;
        }

        #saving-money .left-block {
          width: auto;
          padding: 15px;
        }

        #saving-money .right-block {
          width: auto;
          padding: 15px;
        }

        #saving-money .head-title {
          color: #344054;
          text-align: center;
          font-size: 24px;
          font-style: normal;
          font-weight: 600;
          line-height: 32px;
          letter-spacing: -0.12px;
          margin-bottom: 20px;
        }

        #saving-money .green-txt {
          font-size: 16px;
        }

        #saving-money .bold-title {
          font-size: 24px;
          line-height: 32px;
        }

        #saving-money .content-block {
          padding: 8px;
        }

        #saving-money .content-block .label,
        #saving-money .content-block .text {
          font-size: 14px;
        }
      }
    </style>
    <div id="saving-money"></div>
    <!-- <div class="wrapper-content" id="saving-money">
      <div class="head-title">Công cụ tính tiền lãi gửi</div>
      <div class="wrapper-inner">
        <div class="left-block">
          <div class="input-control">
            <label class="label" for="">Số tiền gửi</label>
            <input
              id="money"
              type="text"
              placeholder="20,000,000"
              onkeypress="inputNumber(event)"
              onkeyup="numToCurrency('money')"
            />
            <div id="money-error" class="error-text money-error d-none">
              Vui lòng nhập số tiền gửi
            </div>
          </div>
          <div class="input-control">
            <label class="label" for="">Lãi suất (%/năm)</label>
            <input
              id="rate"
              type="text"
              placeholder="12"
              onkeypress="inputNumber(event)"
              onkeyup="numToCurrency('rate')"
            />
            <div id="rate-error" class="error-text rate-error d-none">
              Vui lòng nhập lãi suất
            </div>
          </div>
          <div class="input-control">
            <label class="label" for="">Kỳ hạn(tháng)</label>
            <input
              id="period"
              type="text"
              placeholder="12"
              onkeypress="inputNumber(event)"
              onkeyup="numToCurrency('period')"
            />
            <div id="period-error" class="error-text period-error d-none">
              Vui lòng nhập kỳ hạn
            </div>
          </div>
          <div class="button-wrapper">
            <button class="green-button" onclick="calculateSavingMoney()">
              <table></table>
              Tính lãi suất
            </button>
          </div>
        </div>
        <div class="right-block">
          <div class="green-txt">Tổng tiền lãi cuối kỳ</div>
          <div class="bold-title m-b-20" id="total-rate">600.000 VND</div>
          <div>
            <div class="green-txt m-b-10">
              Lãi suất (<span id="confirm-rate">6</span>%/Năm)
            </div>
            <div>
              <div class="content-block">
                <div class="label">Số tiền gửi</div>
                <div class="text" id="confirm-money">10.000.000 VND</div>
              </div>
              <div class="content-block">
                <div class="label">Kỳ hạn (tháng)</div>
                <div class="text" id="confirm-period">12</div>
              </div>
              <div class="content-block">
                <div class="label">Số tiền nhận được</div>
                <div id="total-money" class="text">10.600.000 VND</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->

    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script>
      jQuery(document).ready(function ($) {
        $('#saving-money').html(laiguiHtml());

        $('.green-button').click(function () {
          calculateSavingMoney();
        });

        $('#money').keypress(function (e) {
          inputNumber(e);
        });

        $('#money').keyup(function (e) {
          numToCurrency('money');
        });

        $('#rate').keypress(function (e) {
          inputNumber(e);
        });

        $('#rate').keyup(function (e) {
          numToCurrency('rate');
        });
        $('#period').keypress(function (e) {
          inputNumber(e);
        });

        $('#period').keyup(function (e) {
          numToCurrency('period');
        });
      });

      function laiguiHtml() {
        return `    
      <div class="head-title">Công cụ tính tiền lãi gửi</div>
      <div class="wrapper-inner">
        <div class="left-block">
          <div class="input-control">
            <label class="label" for="">Số tiền gửi</label>
            <input
              id="money"
              type="text"
              placeholder="20,000,000"
              onkeypress="inputNumber(event)"
            />
            <div id="money-error" class="error-text money-error d-none">
              Vui lòng nhập số tiền gửi
            </div>
          </div>
          <div class="input-control">
            <label class="label" for="">Lãi suất (%/năm)</label>
            <input
              id="rate"
              type="text"
              placeholder="12"
              onkeypress="inputNumber(event)"
              onkeyup="numToCurrency('rate')"
            />
            <div id="rate-error" class="error-text rate-error d-none">
              Vui lòng nhập lãi suất
            </div>
          </div>
          <div class="input-control">
            <label class="label" for="">Kỳ hạn(tháng)</label>
            <input
              id="period"
              type="text"
              placeholder="12"
              onkeypress="inputNumber(event)"
              onkeyup="numToCurrency('period')"
            />
            <div id="period-error" class="error-text period-error d-none">
              Vui lòng nhập kỳ hạn
            </div>
          </div>
          <div class="button-wrapper">
            <button class="green-button" onclick="calculateSavingMoney()">
              <table></table>
              Tính lãi suất
            </button>
          </div>
        </div>
        <div class="right-block">
          <div class="green-txt">Tổng tiền lãi cuối kỳ</div>
          <div class="bold-title m-b-20" id="total-rate">600.000 VND</div>
          <div>
            <div class="green-txt m-b-10">
              Lãi suất (<span id="confirm-rate">6</span>%/Năm)
            </div>
            <div>
              <div class="content-block">
                <div class="label">Số tiền gửi</div>
                <div class="text" id="confirm-money">10.000.000 VND</div>
              </div>
              <div class="content-block">
                <div class="label">Kỳ hạn (tháng)</div>
                <div class="text" id="confirm-period">12</div>
              </div>
              <div class="content-block">
                <div class="label">Số tiền nhận được</div>
                <div id="total-money" class="text">10.600.000 VND</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    
`;
      }
      function calculateSavingMoney() {
        var check = validate();
        if (check) {
          var money = convertStringToNumber(
            document.getElementById('money').value
          );

          var rate = convertStringToNumber(
            document.getElementById('rate').value
          );

          var period = convertStringToNumber(
            document.getElementById('period').value
          );

          var result = money * (rate / 100) * (period / 12);

          document.getElementById('total-rate').innerText =
            convertNumToCommaNumber(result.toString()) + ' VND';

          document.getElementById('confirm-rate').innerText = rate.toString();
          document.getElementById('confirm-money').innerText =
            convertNumToCommaNumber(money.toString()) + ' VND';
          document.getElementById('confirm-period').innerText =
            period.toString();

          document.getElementById('total-money').innerText =
            convertNumToCommaNumber(result + money) + ' VND';

          return result;
        }
      }

      function validate() {
        var isValid = true;

        var money = document.getElementById('money').value;
        var rate = document.getElementById('rate').value;
        var period = document.getElementById('period').value;

        if (money)
          document.getElementById('money-error').classList.add('d-none');
        else {
          document.getElementById('money-error').classList.remove('d-none');
          isValid = false;
        }

        if (rate) document.getElementById('rate-error').classList.add('d-none');
        else {
          document.getElementById('rate-error').classList.remove('d-none');
          isValid = false;
        }

        if (period)
          document.getElementById('period-error').classList.add('d-none');
        else {
          document.getElementById('period-error').classList.remove('d-none');
          isValid = false;
        }

        return isValid;
      }

      function inputNumber(keyEvent) {
        if (keyEvent.which < 48 || keyEvent.which > 57) {
          keyEvent.preventDefault();
        }
      }

      function numToCurrency(id) {
        debugger;
        var value = document.getElementById(id).value;
        if (value) {
          var commaNumber = convertToCommaNumber(value);
          document.getElementById(id).value = commaNumber;
        }
      }

      function convertStringToNumber(str) {
        return parseFloat(str.toString().replaceAll(',', ''));
      }

      function convertToCommaNumber(value) {
        value = value.toString();
        var temp = value.toString().replace(/[^0-9]/g, '');
        temp = parseInt(temp) ? parseInt(temp) : 0;
        temp = temp.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        temp = value.indexOf('-') != -1 ? '-' + temp : temp;

        return temp;
      }

      function convertNumToCommaNumber(num) {
        num = num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        return num;
      }
    </script>
  </body>
</html>
